"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const auth_1 = require("../middleware/auth");
const roles_1 = require("../middleware/roles");
const trustAccountController_1 = require("../controllers/trustAccountController");
const router = express_1.default.Router();
router.use(auth_1.auth);
router.get('/', roles_1.canViewCommissions, trustAccountController_1.listTrustAccounts);
router.post('/', roles_1.isAccountant, trustAccountController_1.createTrustAccount);
router.get('/property/:propertyId', roles_1.canViewCommissions, trustAccountController_1.getTrustAccountByProperty);
router.get('/property/:propertyId/full', roles_1.canViewCommissions, trustAccountController_1.getTrustAccountByPropertyFull);
router.get('/:id', roles_1.canViewCommissions, trustAccountController_1.getTrustAccount);
router.get('/:id/full', roles_1.canViewCommissions, trustAccountController_1.getTrustAccountFull);
router.get('/:id/ledger', roles_1.canViewCommissions, trustAccountController_1.getTrustLedger);
router.get('/:id/tax-summary', roles_1.canViewCommissions, trustAccountController_1.getTrustTaxSummary);
router.get('/:id/audit-logs', roles_1.canViewCommissions, trustAccountController_1.getTrustAuditLogs);
router.get('/:id/reconciliation', roles_1.canViewCommissions, trustAccountController_1.getTrustReconciliation);
router.post('/:id/buyer-payments', roles_1.isAccountant, trustAccountController_1.recordBuyerPayment);
router.post('/:id/calculate-settlement', roles_1.isAccountant, trustAccountController_1.calculateSettlement);
router.post('/:id/apply-tax-deductions', roles_1.isAccountant, trustAccountController_1.applyTaxDeductions);
router.post('/:id/transfer-to-seller', roles_1.isAccountant, trustAccountController_1.transferToSeller);
router.post('/:id/close', roles_1.isAccountant, trustAccountController_1.closeTrustAccount);
router.post('/:id/workflow-transition', roles_1.isAccountant, trustAccountController_1.transitionTrustWorkflow);
router.get('/:id/reports/:reportType', roles_1.canViewCommissions, trustAccountController_1.generateTrustReport);
router.post('/reconciliation/run', roles_1.isAccountant, trustAccountController_1.runTrustReconciliation);
exports.default = router;
